---
## -----------------
## インストールするパッケージ
## -----------------
opendkim_packages:
  - opendkim
  - opendkim-tools

## -----------------
## DKIMセレクター
## -----------------
opendkim_selector: mail

## -----------------
## 設定するドメイン
## -----------------
opendkim_domains: []
#   - example.com
#   - example.org
#   - example.jp

## -----------------
## opendkim-gkeygenで鍵を生成する時のキー長
## -----------------
opendkim_rsa_keylen: 2048

## -----------------
## OpenDKIMのSocketの設定値
## -----------------
opendkim_socket: local:/run/opendkim/opendkim.sock

## -----------------
## OpenDKIMの設定
## -----------------
opendkim_cfg:
  # Syslog: "yes"
  # SyslogSuccess: "yes"
  LogWhy: "yes"
  ## Canonicalization: relaxed/relaxed
  ## Mode: sv
  ## SubDomains: "no"
  # OversignHeaders: From
  ## Domain: example.com
  ## Selector: "{{ opendkim_selector }}"
  ## KeyFile: "{{ opendkim_key_dir }}/example.com/{{ opendkim_selector }}.private"
  # UserID: "{{ opendkim_user }}"
  # UMask: "007"
  Socket: "{{ opendkim_socket }}"
  # PidFile: /run/opendkim/opendkim.pid
  # TrustAnchorFile: /usr/share/dns/root.key

## -----------------
## 接続を許可するホストの設定
## ※1つ以上設定されている場合、InternalHosts/ExternalIgnoreListの設定を設定ファイルに自動で追加します
## -----------------
opendkim_trusted_hosts: []
#   - 192.168.0.0/16
#   - 10.0.0.0/8
#   - 172.16.0.0/12

## -----------------
## 連携させるMTA
## -----------------
opendkim_mta: postfix

## -----------------
## Postfixの設定ファイルのパス
## -----------------
opendkim_postfix_config: /etc/postfix/main.cf

## -----------------
## Postfixの連携設定
## -----------------
opendkim_postfix_cfg:
  - key: milter_protocol
    value: 6
  - key: milter_default_action
    value: accept
  - key: smtpd_milters
    value: inet:{{ opendkim_socket }}
  - key: non_smtpd_milters
    value: inet:{{ opendkim_socket }}
